xeDex@ubuntu:~/OS_LABS/LAB_1$ uname -a
Linux ubuntu 6.11.0-17-generic #17~24.04.2-Ubuntu SMP PREEMPT_DYNAMIC Mon Jan 20 22:48:29 UTC 2 x86_64 x86_64 x86_64 GNU/Linux

xeDex@ubuntu:~/OS_LABS/LAB_1$ who
xeDex    seat0        2025-03-02 12:46 (login screen)
xeDex    tty2         2025-03-02 12:46 (tty2)

# 3381_Марков_Марк (Oracle VirtualBox, 16G RAM and 12 threads allocated)
xeDex@ubuntu:~/OS_LABS/LAB_1$ lscpu
Architecture:             x86_64
  CPU op-mode(s):         32-bit, 64-bit
  Address sizes:          39 bits physical, 48 bits virtual
  Byte Order:             Little Endian
CPU(s):                   12
  On-line CPU(s) list:    0-11
Vendor ID:                GenuineIntel
  Model name:             Intel(R) Core(TM) i5-14600KF
    CPU family:           6
    Model:                183
    Thread(s) per core:   1
    Core(s) per socket:   12
    Socket(s):            1
    Stepping:             1
    BogoMIPS:             6988.79
    Flags:                fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge m
                          ca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall
                           nx rdtscp lm constant_tsc rep_good nopl xtopology non
                          stop_tsc cpuid tsc_known_freq pni pclmulqdq ssse3 cx16
                           sse4_1 sse4_2 movbe popcnt aes rdrand hypervisor lahf
                          _lm abm 3dnowprefetch ibrs_enhanced fsgsbase bmi1 bmi2
                           invpcid rdseed adx clflushopt sha_ni arat md_clear fl
                          ush_l1d arch_capabilities
Virtualization features:  
  Hypervisor vendor:      KVM
  Virtualization type:    full
Caches (sum of all):      
  L1d:                    384 KiB (12 instances)
  L1i:                    768 KiB (12 instances)
  L2:                     48 MiB (12 instances)
  L3:                     288 MiB (12 instances)
NUMA:                     
  NUMA node(s):           1
  NUMA node0 CPU(s):      0-11
Vulnerabilities:          
  Gather data sampling:   Not affected
  Itlb multihit:          Not affected
  L1tf:                   Not affected
  Mds:                    Not affected
  Meltdown:               Not affected
  Mmio stale data:        Not affected
  Reg file data sampling: Mitigation; Clear Register File
  Retbleed:               Mitigation; Enhanced IBRS
  Spec rstack overflow:   Not affected
  Spec store bypass:      Vulnerable
  Spectre v1:             Mitigation; usercopy/swapgs barriers and __user pointe
                          r sanitization
  Spectre v2:             Mitigation; Enhanced / Automatic IBRS; RSB filling; PB
                          RSB-eIBRS SW sequence; BHI SW loop, KVM SW loop
  Srbds:                  Not affected
  Tsx async abort:        Not affected

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo lshw
ubuntu                      
    description: Computer
    product: VirtualBox
    vendor: innotek GmbH
    version: 1.2
    serial: VirtualBox-f1be522b-3a6d-4cd7-8f98-a68d4a0669e6
    width: 64 bits
    capabilities: smbios-2.5 dmi-2.5 smp vsyscall32
    configuration: family=Virtual Machine uuid=f1be522b-3a6d-4cd7-8f98-a68d4a0669e6
  *-core
       description: Motherboard
       product: VirtualBox
       vendor: Oracle Corporation
       physical id: 0
       version: 1.2
       serial: 0
     *-firmware
          description: BIOS
          vendor: innotek GmbH
          physical id: 0
          version: VirtualBox
          date: 12/01/2006
          size: 128KiB
          capacity: 128KiB
          capabilities: isa pci cdboot bootselect int9keyboard int10video acpi
     *-memory
          description: System memory
          physical id: 1
          size: 16GiB
     *-cpu
          product: Intel(R) Core(TM) i5-14600KF
          vendor: Intel Corp.
          physical id: 2
          bus info: cpu@0
          version: 6.183.1
          width: 64 bits
          capabilities: fpu fpu_exception wp vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx rdtscp x86-64 constant_tsc rep_good nopl xtopology nonstop_tsc cpuid tsc_known_freq pni pclmulqdq ssse3 cx16 sse4_1 sse4_2 movbe popcnt aes rdrand hypervisor lahf_lm abm 3dnowprefetch ibrs_enhanced fsgsbase bmi1 bmi2 invpcid rdseed adx clflushopt sha_ni arat md_clear flush_l1d arch_capabilities
          configuration: microcode=4294967295
     *-pci
          description: Host bridge
          product: 440FX - 82441FX PMC [Natoma]
          vendor: Intel Corporation
          physical id: 100
          bus info: pci@0000:00:00.0
          version: 02
          width: 32 bits
          clock: 33MHz
        *-isa
             description: ISA bridge
             product: 82371SB PIIX3 ISA [Natoma/Triton II]
             vendor: Intel Corporation
             physical id: 1
             bus info: pci@0000:00:01.0
             version: 00
             width: 32 bits
             clock: 33MHz
             capabilities: isa bus_master
             configuration: latency=0
           *-pnp00:00
                product: PnP device PNP0303
                physical id: 0
                capabilities: pnp
                configuration: driver=i8042 kbd
           *-pnp00:01
                product: PnP device PNP0f03
                physical id: 1
                capabilities: pnp
                configuration: driver=i8042 aux
        *-ide
             description: IDE interface
             product: 82371AB/EB/MB PIIX4 IDE
             vendor: Intel Corporation
             physical id: 1.1
             bus info: pci@0000:00:01.1
             logical name: scsi1
             version: 01
             width: 32 bits
             clock: 33MHz
             capabilities: ide isa_compat_mode pci_native_mode bus_master emulated
             configuration: driver=ata_piix latency=64
             resources: irq:0 ioport:1f0(size=8) ioport:3f6 ioport:170(size=8) ioport:376 ioport:d000(size=16)
           *-cdrom
                description: DVD reader
                product: CD-ROM
                vendor: VBOX
                physical id: 0.0.0
                bus info: scsi@1:0.0.0
                logical name: /dev/cdrom
                logical name: /dev/sr0
                logical name: /media/xeDex/VBox_GAs_7.1.6
                version: 1.0
                capabilities: removable audio dvd
                configuration: ansiversion=5 mount.fstype=iso9660 mount.options=ro,nosuid,nodev,relatime,nojoliet,check=s,map=n,blocksize=2048,uid=1000,gid=1000,dmode=500,fmode=400,iocharset=utf8 state=mounted status=ready
              *-medium
                   physical id: 0
                   logical name: /dev/cdrom
                   logical name: /media/xeDex/VBox_GAs_7.1.6
                   configuration: mount.fstype=iso9660 mount.options=ro,nosuid,nodev,relatime,nojoliet,check=s,map=n,blocksize=2048,uid=1000,gid=1000,dmode=500,fmode=400,iocharset=utf8 state=mounted
        *-display
             description: VGA compatible controller
             product: SVGA II Adapter
             vendor: VMware
             physical id: 2
             bus info: pci@0000:00:02.0
             logical name: /dev/fb0
             version: 00
             width: 32 bits
             clock: 33MHz
             capabilities: vga_controller bus_master rom fb
             configuration: depth=32 driver=vmwgfx latency=64 resolution=1280,800
             resources: irq:18 ioport:d010(size=16) memory:e0000000-e0ffffff memory:f0000000-f01fffff memory:c0000-dffff
        *-network
             description: Ethernet interface
             product: 82540EM Gigabit Ethernet Controller
             vendor: Intel Corporation
             physical id: 3
             bus info: pci@0000:00:03.0
             logical name: enp0s3
             version: 02
             serial: 08:00:27:26:ba:12
             size: 1Gbit/s
             capacity: 1Gbit/s
             width: 32 bits
             clock: 66MHz
             capabilities: pm pcix bus_master cap_list ethernet physical tp 10bt 10bt-fd 100bt 100bt-fd 1000bt-fd autonegotiation
             configuration: autonegotiation=on broadcast=yes driver=e1000 driverversion=6.11.0-19-generic duplex=full ip=10.0.2.15 latency=64 link=yes mingnt=255 multicast=yes port=twisted pair speed=1Gbit/s
             resources: irq:19 memory:f0200000-f021ffff ioport:d020(size=8)
        *-generic
             description: System peripheral
             product: VirtualBox mouse integration
             vendor: InnoTek Systemberatung GmbH
             physical id: 4
             bus info: pci@0000:00:04.0
             logical name: input7
             logical name: /dev/input/event6
             logical name: /dev/input/js1
             logical name: /dev/input/mouse2
             version: 00
             width: 32 bits
             clock: 33MHz
             capabilities: pci
             configuration: driver=vboxguest latency=0
             resources: irq:20 ioport:d040(size=32) memory:f0400000-f07fffff memory:f0800000-f0803fff
        *-multimedia
             description: Multimedia audio controller
             product: 82801AA AC'97 Audio Controller
             vendor: Intel Corporation
             physical id: 5
             bus info: pci@0000:00:05.0
             logical name: card0
             logical name: /dev/snd/controlC0
             logical name: /dev/snd/pcmC0D0c
             logical name: /dev/snd/pcmC0D0p
             logical name: /dev/snd/pcmC0D1c
             version: 01
             width: 32 bits
             clock: 33MHz
             capabilities: bus_master
             configuration: driver=snd_intel8x0 latency=64
             resources: irq:21 ioport:d100(size=256) ioport:d200(size=64)
        *-bridge
             description: Bridge
             product: 82371AB/EB/MB PIIX4 ACPI
             vendor: Intel Corporation
             physical id: 7
             bus info: pci@0000:00:07.0
             version: 08
             width: 32 bits
             clock: 33MHz
             capabilities: bridge
             configuration: driver=piix4_smbus latency=0
             resources: irq:9
        *-usb
             description: USB controller
             product: 7 Series/C210 Series Chipset Family USB xHCI Host Controller
             vendor: Intel Corporation
             physical id: c
             bus info: pci@0000:00:0c.0
             version: 00
             width: 32 bits
             clock: 33MHz
             capabilities: xhci bus_master cap_list
             configuration: driver=xhci_hcd latency=64
             resources: irq:20 memory:f0810000-f081ffff
           *-usbhost:0
                product: xHCI Host Controller
                vendor: Linux 6.11.0-19-generic xhci-hcd
                physical id: 0
                bus info: usb@1
                logical name: usb1
                version: 6.11
                capabilities: usb-2.00
                configuration: driver=hub slots=8 speed=480Mbit/s
              *-usb
                   description: Human interface device
                   product: VirtualBox USB Tablet
                   vendor: VirtualBox
                   physical id: 1
                   bus info: usb@1:1
                   logical name: input6
                   logical name: /dev/input/event5
                   logical name: /dev/input/js0
                   logical name: /dev/input/mouse1
                   version: 1.00
                   capabilities: usb-1.10 usb
                   configuration: driver=usbhid maxpower=100mA speed=12Mbit/s
           *-usbhost:1
                product: xHCI Host Controller
                vendor: Linux 6.11.0-19-generic xhci-hcd
                physical id: 1
                bus info: usb@2
                logical name: usb2
                version: 6.11
                capabilities: usb-3.00
                configuration: driver=hub slots=6 speed=5000Mbit/s
        *-sata
             description: SATA controller
             product: 82801HM/HEM (ICH8M/ICH8M-E) SATA Controller [AHCI mode]
             vendor: Intel Corporation
             physical id: d
             bus info: pci@0000:00:0d.0
             logical name: scsi2
             version: 02
             width: 32 bits
             clock: 33MHz
             capabilities: sata pm ahci_1.0 bus_master cap_list emulated
             configuration: driver=ahci latency=64
             resources: irq:21 ioport:d240(size=8) ioport:d248(size=4) ioport:d250(size=8) ioport:d258(size=4) ioport:d260(size=16) memory:f0820000-f0821fff
           *-disk
                description: ATA Disk
                product: VBOX HARDDISK
                vendor: VirtualBox
                physical id: 0.0.0
                bus info: scsi@2:0.0.0
                logical name: /dev/sda
                version: 1.0
                serial: VB5da77d6f-9f723db3
                size: 30GiB (32GB)
                capabilities: gpt-1.00 partitioned partitioned:gpt
                configuration: ansiversion=5 guid=8c0cf3cf-8072-46a1-a25d-1ee8e6141154 logicalsectorsize=512 sectorsize=512
              *-volume:0
                   description: BIOS Boot partition
                   vendor: EFI
                   physical id: 1
                   bus info: scsi@2:0.0.0,1
                   logical name: /dev/sda1
                   serial: 46fd0f4d-1273-4344-8a42-a1842fbefb68
                   capacity: 1023KiB
                   capabilities: nofs
              *-volume:1
                   description: EXT4 volume
                   vendor: Linux
                   physical id: 2
                   bus info: scsi@2:0.0.0,2
                   logical name: /dev/sda2
                   logical name: /
                   version: 1.0
                   serial: 38657727-0164-4622-bff7-161ab7c3f885
                   size: 29GiB
                   capabilities: journaled extended_attributes large_files huge_files dir_nlink recover 64bit extents ext4 ext2 initialized
                   configuration: created=2025-03-01 21:59:30 filesystem=ext4 lastmountpoint=/ modified=2025-03-14 11:16:22 mount.fstype=ext4 mount.options=rw,relatime mounted=2025-03-14 11:16:26 state=mounted
  *-input:0
       product: Power Button
       physical id: 1
       logical name: input0
       logical name: /dev/input/event0
       capabilities: platform
  *-input:1
       product: Sleep Button
       physical id: 2
       logical name: input1
       logical name: /dev/input/event1
       capabilities: platform
  *-input:2
       product: AT Translated Set 2 keyboard
       physical id: 3
       logical name: input2
       logical name: /dev/input/event2
       logical name: input2::capslock
       logical name: input2::numlock
       logical name: input2::scrolllock
       capabilities: i8042
  *-input:3
       product: ImExPS/2 Generic Explorer Mouse
       physical id: 4
       logical name: input4
       logical name: /dev/input/event4
       logical name: /dev/input/mouse0
       capabilities: i8042
  *-input:4
       product: Video Bus
       physical id: 5
       logical name: input5
       logical name: /dev/input/event3
       capabilities: platform
xeDex@ubuntu:~/OS_LABS/LAB_1$

# Задание 1
xeDex@ubuntu:~/OS_LABS/LAB_1$ date
Sun Mar  2 04:00:37 PM MSK 2025

xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l /
total 88
lrwxrwxrwx   1 root root     7 Apr 22  2024 bin -> usr/bin
drwxr-xr-x   2 root root  4096 Feb 26  2024 bin.usr-is-merged
drwxr-xr-x   3 root root  4096 Mar  1 22:04 boot
dr-xr-xr-x   2 root root  4096 Mar  1 21:57 cdrom
drwxr-xr-x  19 root root  4120 Mar  2 12:52 dev
drwxr-xr-x 138 root root 12288 Mar  2 15:57 etc
drwxr-xr-x   3 root root  4096 Mar  1 22:07 home
lrwxrwxrwx   1 root root     7 Apr 22  2024 lib -> usr/lib
lrwxrwxrwx   1 root root     9 Apr 22  2024 lib64 -> usr/lib64
drwxr-xr-x   2 root root  4096 Apr  8  2024 lib.usr-is-merged
drwx------   2 root root 16384 Mar  1 21:59 lost+found
drwxr-xr-x   2 root root  4096 Aug 27  2024 media
drwxr-xr-x   2 root root  4096 Aug 27  2024 mnt
drwxr-xr-x   2 root root  4096 Aug 27  2024 opt
dr-xr-xr-x 384 root root     0 Mar  2 12:46 proc
drwx------   5 root root  4096 Mar  1 22:07 root
drwxr-xr-x  36 root root   900 Mar  2 15:57 run
lrwxrwxrwx   1 root root     8 Apr 22  2024 sbin -> usr/sbin
drwxr-xr-x   2 root root  4096 Mar 31  2024 sbin.usr-is-merged
drwxr-xr-x  12 root root  4096 Aug 27  2024 snap
drwxr-xr-x   2 root root  4096 Aug 27  2024 srv
dr-xr-xr-x  13 root root     0 Mar  2 14:57 sys
drwxrwxrwt  18 root root  4096 Mar  2 16:04 tmp
drwxr-xr-x  12 root root  4096 Aug 27  2024 usr
drwxr-xr-x  14 root root  4096 Mar  1 22:07 var

xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l /snap | grep "^-" | head -n 1
-r--r--r-- 1 root root  548 Aug 27  2024 README

xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l /dev | grep "^b" | head -n 1
brw-rw----   1 root  disk      7,   0 Mar  2 12:51 loop0

xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l /dev | grep "^c" | head -n 1
crw-r--r--   1 root  root     10, 235 Mar  2 12:51 autofs

xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l /dev | grep "^d" | head -n 1
drwxr-xr-x   2 root  root         360 Mar  2 12:52 block

xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l / | grep "^l" | head -n 1
lrwxrwxrwx   1 root root     7 Apr 22  2024 bin -> usr/bin

xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l /run | grep "^p" | head -n 1
prw-------  1 root              root      0 Mar  2 12:46 initctl

xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l /run | grep "^s" | head -n 1
srw-rw-rw-  1 root              root      0 Mar  2 12:46 snapd-snap.socket

xeDex@ubuntu:~/OS_LABS/LAB_1$ chmod +x find_file_types.sh
xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo ./find_file_types.sh output.txt
Поиск завершен. Результаты записаны в файл: output.txt

xeDex@ubuntu:~/OS_LABS/LAB_1$ cat output.txt
Обычный файл: config-6.11.0-17-generic
Блочное устройство: loop0
Символьное устройство: autofs
Директория: bin.usr-is-merged
Символьная ссылка: usr/bin
FIFO: initctl
Сокет: snapd-snap.socket

# Задание 2
xeDex@ubuntu:~/OS_LABS/LAB_1$ date
Wed Mar 12 04:12:13 PM MSK 2025
xeDex@ubuntu:~/OS_LABS/LAB_1$ man ln
...

xeDex@ubuntu:~/OS_LABS/LAB_1$ mkdir hardlinks
xeDex@ubuntu:~/OS_LABS/LAB_1$ touch ./hardlinks/something
xeDex@ubuntu:~/OS_LABS/LAB_1$ touch ./hardlinks/something_else
xeDex@ubuntu:~/OS_LABS/LAB_1$ ln ./hardlinks/something ./hardlinks/first_link
xeDex@ubuntu:~/OS_LABS/LAB_1$ ln ./hardlinks/something_else ./hardlinks/second_link
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls hardlinks/
first_link  second_link  something  something_else

xeDex@ubuntu:~/OS_LABS/LAB_1$ mkdir hardlinks_2
xeDex@ubuntu:~/OS_LABS/LAB_1$ mv hardlinks/second_link hardlinks_2/
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls hardlinks_2/
second_link

xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -i hardlinks/something
1837877 hardlinks/something

xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -i hardlinks/something_else 
1836323 hardlinks/something_else

xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -iR | grep "1837877"
1837877 first_link
1837877 something

xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -iR | grep "1836323"
1836323 something_else
1836323 second_link

xeDex@ubuntu:~/OS_LABS/LAB_1$ chmod +x find_hard_links.sh
xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo ./find_hard_links.sh hardlinks/something_else output.txt
Ищем жесткие ссылки для файла: hardlinks/something_else с inode: 1836323
Поиск завершен. Результаты записаны в файл: output.txt

xeDex@ubuntu:~/OS_LABS/LAB_1$ cat output.txt 
Жесткая ссылка: something_else
Жесткая ссылка: second_link

# Задание 3
xeDex@ubuntu:~/OS_LABS/LAB_1$ date
Wed Mar 12 05:00:42 PM MSK 2025

xeDex@ubuntu:~/OS_LABS/LAB_1$ man cp
...

xeDex@ubuntu:~/OS_LABS/LAB_1$ man link
...
# Заметка. Link создает жесткие ссылки, не символические

xeDex@ubuntu:~/OS_LABS/LAB_1$ mkdir source_file
xeDex@ubuntu:~/OS_LABS/LAB_1$ touch source_file/something
xeDex@ubuntu:~/OS_LABS/LAB_1$ ln -s source_file/something symlink_1
xeDex@ubuntu:~/OS_LABS/LAB_1$ mkdir symlink
xeDex@ubuntu:~/OS_LABS/LAB_1$ cp -s source_file/something symlink_2
xeDex@ubuntu:~/OS_LABS/LAB_1$ mv symlink_2 symlink
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -lR
.:
total 28
-rwxrwxr-x 1 xeDex xeDex 1527 Mar  2 18:43 find_file_types.sh
-rwxrwxr-x 1 xeDex xeDex 1442 Mar 12 16:57 find_hard_links.sh
-rw-rw-r-- 1 xeDex xeDex 5364 Mar 12 17:40 lab_log.log
-rw-r--r-- 1 xeDex xeDex   85 Mar 12 16:57 output.txt
drwxrwxr-x 2 xeDex xeDex 4096 Mar 12 17:53 source_file
drwxrwxr-x 2 xeDex xeDex 4096 Mar 12 17:37 symlink
lrwxrwxrwx 1 xeDex xeDex   21 Mar 12 17:47 symlink_1 -> source_file/something

./source_file:
total 0
-rw-rw-r-- 1 xeDex xeDex 0 Mar 12 17:30 something

./symlink:
total 0
lrwxrwxrwx 1 xeDex xeDex 21 Mar 12 17:47 symlink_2 -> source_file/something

xeDex@ubuntu:~/OS_LABS/LAB_1$ chmod +x find_symbolic_links.sh

xeDex@ubuntu:~/OS_LABS/LAB_1$ ./find_symbolic_links.sh source_file/something output.txt
Количество символьных ссылок на файл 'source_file/something': 2
Поиск завершен. Результаты записаны в файл: output.txt

xeDex@ubuntu:~/OS_LABS/LAB_1$ cat output.txt
Символьная ссылка: 1840538      0 lrwxrwxrwx   1 xeDex    xeDex          21 Mar 12 17:47 /home/xeDex/OS_LABS/LAB_1/symlink/symlink_2 -> source_file/something
Символьная ссылка: 1840543      0 lrwxrwxrwx   1 xeDex    xeDex          21 Mar 12 17:47 /home/xeDex/OS_LABS/LAB_1/symlink_1 -> source_file/something
Количество символьных ссылок на файл 'source_file/something': 2

# Задание 4
# Такой же bash script, как и в Задание 3 (в нем нет утилиты "file")

# Задание 5
xeDex@ubuntu:~/OS_LABS/LAB_1$ date
Wed Mar 12 06:36:07 PM MSK 2025

xeDex@ubuntu:~/OS_LABS/LAB_1$ man find
...

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo find / -type f -ls | head -n1
  1048631      4 -r--r--r--   1 xeDex    xeDex          11 Mar 12 13:49 /tmp/.X1-lock

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo find / -type b -ls | head -n1
      371      0 b---------   1 root     root       0,   0 Mar 12 13:48 /run/systemd/inaccessible/blk

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo find / -type c -ls | head -n1
      370      0 c---------   1 root     root       0,   0 Mar 12 13:48 /run/systemd/inaccessible/chr

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo find / -type d -ls | head -n1
        2      4 drwxr-xr-x  23 root     root         4096 Mar  2 15:48 /

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo find / -type l -ls | head -n1
       15      0 lrwxrwxrwx   1 root     root            8 Apr 22  2024 /sbin -> usr/sbin

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo find / -type p -ls | head -n1
      368      0 p---------   1 root     root            0 Mar 12 13:48 /run/systemd/inaccessible/fifo

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo find / -type s -ls | head -n1
  1048632      0 srwxrwxr-x   1 xeDex    xeDex           0 Mar 12 13:49 /tmp/.X11-unix/X1

# -mtime -1 looks for files that were modified less than 1 day ago.
xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo find / -type f -mtime -1 -ls | head -n4
  1048631      4 -r--r--r--   1 xeDex    xeDex          11 Mar 12 13:49 /tmp/.X1-lock
  1048613      4 -r--r--r--   1 gdm      gdm            11 Mar 12 13:48 /tmp/.X1024-lock
  1048629      4 -r--r--r--   1 xeDex    xeDex          11 Mar 12 13:49 /tmp/.X0-lock
  1048616      4 -r--r--r--   1 gdm      gdm            11 Mar 12 13:48 /tmp/.X1025-lock

# -size +100M looks for files bigger than 100M
xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo find / -type f -size +100M -ls | head -n4
      294 138614 -rwxr-xr-x   1 root     root     141940192 Aug 20  2024 /snap/firefox/4793/usr/lib/firefox/libxul.so
    10305 114131 -rw-r--r--   1 root     root     116869584 Mar 26  2024 /snap/gnome-42-2204/176/usr/lib/x86_64-linux-gnu/libLLVM-15.so.1
  1711028 276244 -rw-------   2 root     root     282873856 Aug 27  2024 /var/lib/snapd/snaps/firefox_4793.snap
  1711030 517216 -rw-------   2 root     root     529625088 Aug 27  2024 /var/lib/snapd/snaps/gnome-42-2204_176.snap

# И так далее

# Вложенные комманды
# Ищет .txt файлы и подсчитывает число линих в них
xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo find / -type f -name "*.txt" -exec sh -c 'wc -l "$1"' _ {} \; | head -n5
1 /snap/core22/1748/usr/lib/python3/dist-packages/Babel-2.8.0.egg-info/dependency_links.txt
21 /snap/core22/1748/usr/lib/python3/dist-packages/Babel-2.8.0.egg-info/entry_points.txt
0 /snap/core22/1748/usr/lib/python3/dist-packages/Babel-2.8.0.egg-info/requires.txt
1 /snap/core22/1748/usr/lib/python3/dist-packages/Babel-2.8.0.egg-info/top_level.txt
1 /snap/core22/1748/usr/lib/python3/dist-packages/Jinja2-3.0.3.egg-info/dependency_links.txt

# Ищет .txt файлы и выводит расширенную информацию
xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo find / -type f -name "*.txt" -exec ls -l {} \; | head -n4
find: ‘/run/user/1000/doc’: Permission denied
find: ‘/run/user/1000/gvfs’: Permission denied
-rw-r--r-- 1 root root 1 May  1  2021 /snap/core22/1748/usr/lib/python3/dist-packages/Babel-2.8.0.egg-info/dependency_links.txt
-rw-r--r-- 1 root root 764 May  1  2021 /snap/core22/1748/usr/lib/python3/dist-packages/Babel-2.8.0.egg-info/entry_points.txt
-rw-r--r-- 1 root root 0 May  1  2021 /snap/core22/1748/usr/lib/python3/dist-packages/Babel-2.8.0.egg-info/requires.txt
-rw-r--r-- 1 root root 6 May  1  2021 /snap/core22/1748/usr/lib/python3/dist-packages/Babel-2.8.0.egg-info/top_level.txt

# Задание 6
xeDex@ubuntu:~/OS_LABS/LAB_1$ date
Wed Mar 12 07:31:16 PM MSK 2025

# Шестнадцатеричное представление файла
xeDex@ubuntu:~/OS_LABS/LAB_1$ od -x output.txt | head -n5
0000000 a1d0 b8d0 bcd0 b2d0 bed0 bbd0 8cd1 bdd0
0000020 b0d0 8fd1 d120 d181 d181 d08b d0bb d0ba
0000040 3ab0 3120 3338 3937 3031 2020 2020 2020
0000060 2030 726c 7877 7772 7278 7877 2020 3120
0000100 7820 4465 7865 2020 2020 6578 6544 2078

# Восьмиричное представление файла-каталога
xeDex@ubuntu:~/OS_LABS/LAB_1$ od source_file/
od: source_file/: Is a directory
0000000

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo od find_file_types.sh | head -n5
0000000 020443 061057 067151 061057 071541 005150 021412 150040
0000020 150637 150200 150276 150262 150665 150600 150217 150265
0000040 026274 150040 150661 150213 020273 135720 134320 150040
0000060 150277 150665 150200 150265 150264 150260 020275 130320
0000100 100321 131720 101721 136320 132720 136720 101321 150440

xeDex@ubuntu:~/OS_LABS/LAB_1$ hexdump -C source_file/
hexdump: source_file/: Is a directory

xeDex@ubuntu:~/OS_LABS/LAB_1$ hexdump -C find_file_types.sh | head -n8
00000000  23 21 2f 62 69 6e 2f 62  61 73 68 0a 0a 23 20 d0  |#!/bin/bash..# .|
00000010  9f d1 80 d0 be d0 b2 d0  b5 d1 80 d1 8f d0 b5 d0  |................|
00000020  bc 2c 20 d0 b1 d1 8b d0  bb 20 d0 bb d0 b8 20 d0  |., ...... .... .|
00000030  bf d0 b5 d1 80 d0 b5 d0  b4 d0 b0 d0 bd 20 d0 b0  |............. ..|
00000040  d1 80 d0 b3 d1 83 d0 bc  d0 b5 d0 bd d1 82 20 d1  |.............. .|
00000050  81 20 d1 84 d0 b0 d0 b9  d0 bb d0 be d0 bc 20 d0  |. ............ .|
00000060  b4 d0 bb d1 8f 20 d0 b2  d1 8b d0 b2 d0 be d0 b4  |..... ..........|
00000070  d0 b0 0a 69 66 20 5b 20  2d 7a 20 22 24 31 22 20  |...if [ -z "$1" |

xeDex@ubuntu:~/OS_LABS/LAB_1$ hexdump -C /snap/snap-store/1173/bin/data/flutter_assets/packages/ubuntu_test/assets/test.png | head
00000000  89 50 4e 47 0d 0a 1a 0a  00 00 00 0d 49 48 44 52  |.PNG........IHDR|
00000010  00 00 00 01 00 00 00 01  08 02 00 00 00 90 77 53  |..............wS|
00000020  de 00 00 01 84 69 43 43  50 49 43 43 20 70 72 6f  |.....iCCPICC pro|
00000030  66 69 6c 65 00 00 28 91  7d 91 3d 48 c3 40 1c c5  |file..(.}.=H.@..|
00000040  5f 53 a5 52 2a a2 76 28  e2 90 a1 3a 59 10 15 71  |_S.R*.v(...:Y..q|
00000050  d4 2a 14 a1 42 a8 15 5a  75 30 b9 f4 0b 9a 34 24  |.*..B..Zu0....4$|
00000060  29 2e 8e 82 6b c1 c1 8f  c5 aa 83 8b b3 ae 0e ae  |)...k...........|
00000070  82 20 f8 01 e2 ea e2 a4  e8 22 25 fe 2f 29 b4 88  |. ......."%./)..|
00000080  f5 e0 b8 1f ef ee 3d ee  de 01 42 bd cc 34 ab 6b  |......=...B..4.k|
00000090  1c d0 74 db 4c 25 e2 62  26 bb 2a 06 5e e1 c7 00  |..t.L%.b&.*.^...|

# Задание 7
xeDex@ubuntu:~/OS_LABS/LAB_1$ date
Wed Mar 12 07:57:23 PM MSK 2025

xeDex@ubuntu:~/OS_LABS/LAB_1$ df -T
Filesystem     Type    1K-blocks    Used Available Use% Mounted on
tmpfs          tmpfs     1637392    1660   1635732   1% /run
/dev/sda2      ext4     30784420 5814944  23380384  20% /
tmpfs          tmpfs     8186948       4   8186944   1% /dev/shm
tmpfs          tmpfs        5120       8      5112   1% /run/lock
tmpfs          tmpfs     1637388    2576   1634812   1% /run/user/1000
/dev/sr0       iso9660     58814   58814         0 100% /media/xeDex/VBox_GAs_7.1.6

xeDex@ubuntu:~/OS_LABS/LAB_1$ mkdir test
xeDex@ubuntu:~/OS_LABS/LAB_1$ du -sh test
4.0K	test

xeDex@ubuntu:~/OS_LABS/LAB_1$ du -sh /home
207M	/home

# После добавления 2 пустых файлов ничего не изменилось
xeDex@ubuntu:~/OS_LABS/LAB_1$ touch test/a.txt
xeDex@ubuntu:~/OS_LABS/LAB_1$ touch test/a1.txt
xeDex@ubuntu:~/OS_LABS/LAB_1$ du -sh test
4.0K	test

# После добавления некоторого текста в test/a.txt размер увеличился в 2 раза
xeDex@ubuntu:~/OS_LABS/LAB_1$ du -sh test
8.0K	test

# После удаления test/a.txt размер уменьшился
xeDex@ubuntu:~/OS_LABS/LAB_1$ rm test/a.txt 
xeDex@ubuntu:~/OS_LABS/LAB_1$ du -sh test
4.0K	test

xeDex@ubuntu:~/OS_LABS/LAB_1$ mkdir test/test1
xeDex@ubuntu:~/OS_LABS/LAB_1$ du -sh test
8.0K	test

xeDex@ubuntu:~/OS_LABS/LAB_1$ chmod +x directory_size_experiment.sh 
xeDex@ubuntu:~/OS_LABS/LAB_1$ ./directory_size_experiment.sh test/
Начальный размер каталога:
Размер каталога 'test/':
8.0K	test/
Добавляем файлы в каталог...
Размер каталога 'test/':
28K	test/
Создаем подкаталог...
Размер каталога 'test/':
32K	test/
Удаляем файлы из каталога...
Размер каталога 'test/':
32K	test/
Удаляем подкаталог...
Размер каталога 'test/':
28K	test/
Эксперимент завершен.

# После создания 1000 файлов и их удаления, 
# размер каталога остается неизменным. Так работает файловая система
xeDex@ubuntu:~/OS_LABS/LAB_1$ du -sh test
28K	test

# Задание 8
xeDex@ubuntu:~/OS_LABS/LAB_1$ date
Wed Mar 12 08:20:29 PM MSK 2025

# Утилита позволяет менять пароль пользователя или пользователей
# из-под root
xeDex@ubuntu:~/OS_LABS/LAB_1$ man passwd
...

xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l /etc/passwd
-rw-r--r-- 1 root root 2861 Mar  1 22:07 /etc/passwd

# rw- владельцу (root) разрешено читать и записывать.
# r-- группе разрешено только читать.
# r-- остальным пользователям разрешено только читать.

xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l /etc/shadow
-rw-r----- 1 root shadow 1338 Mar  1 22:07 /etc/shadow

# rw- владельцу (root) разрешено читать и записывать.
# r-- группе разрешено только читать.
# --- остальным пользователям доступ запрещен.

xeDex@ubuntu:~/OS_LABS/LAB_1$ cat /etc/passwd | head -n5
root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:2:bin:/bin:/usr/sbin/nologin
sys:x:3:3:sys:/dev:/usr/sbin/nologin
sync:x:4:65534:sync:/bin:/bin/sync

# /etc/passwd хранит информацию о пользователях
# /etc/shadow --//-- хэши их паролей

# Задание 9
xeDex@ubuntu:~/OS_LABS/LAB_1$ date
Wed Mar 12 08:44:43 PM MSK 2025

xeDex@ubuntu:~/OS_LABS/LAB_1$ mkdir task_9
xeDex@ubuntu:~/OS_LABS/LAB_1$ touch task_9/test1 task_9/test2
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l task_9/
total 0
-rw-rw-r-- 1 xeDex xeDex 0 Mar 12 21:09 test1
-rw-rw-r-- 1 xeDex xeDex 0 Mar 12 21:09 test2

# 9.1
xeDex@ubuntu:~/OS_LABS/LAB_1$ chmod 770 task_9/test1
xeDex@ubuntu:~/OS_LABS/LAB_1$ chmod 644 task_9/test2
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l task_9/
total 0
-rwxrwx--- 1 xeDex xeDex 0 Mar 12 21:09 test1
-rw-r--r-- 1 xeDex xeDex 0 Mar 12 21:09 test2

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo chown root:root task_9/test1 
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l task_9/
total 0
-rwxrwx--- 1 root  root  0 Mar 12 21:09 test1
-rw-r--r-- 1 xeDex xeDex 0 Mar 12 21:09 test2

# 9.2
xeDex@ubuntu:~/OS_LABS/LAB_1$ touch task_9/executable
xeDex@ubuntu:~/OS_LABS/LAB_1$ chmod 755 task_9/executable 
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l task_9/executable 
-rwxr-xr-x 1 xeDex xeDex 0 Mar 12 21:19 task_9/executable

xeDex@ubuntu:~/OS_LABS/LAB_1$ chmod u+s task_9/executable 
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l task_9/executable 
-rwsr-xr-x 1 xeDex xeDex 0 Mar 12 21:19 task_9/executable
# Флаг SUID позволяет запускать файл с правами владельца (биты s)

# 9.3

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo chown xeDex:root task_9/executable 
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l task_9/
total 0
-rwxr-xr-x 1 xeDex root  0 Mar 12 21:19 executable
-rwxrwx--- 1 root  root  0 Mar 12 21:09 test1
-rw-r--r-- 1 xeDex xeDex 0 Mar 12 21:09 test2
-rw-rw-r-- 1 xeDex xeDex 0 Mar 12 21:33 test3

# Права владельца позволяют записать и читать
xeDex@ubuntu:~/OS_LABS/LAB_1$ echo "hello" >> task_9/executable 
xeDex@ubuntu:~/OS_LABS/LAB_1$ cat task_9/executable 
hello

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo chown root:xeDex task_9/executable 
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l task_9/
total 4
-rwxr-xr-x 1 root  xeDex 6 Mar 13 12:11 executable
-rwxrwx--- 1 root  root  0 Mar 12 21:09 test1
-rw-r--r-- 1 xeDex xeDex 0 Mar 12 21:09 test2
-rw-rw-r-- 1 xeDex xeDex 0 Mar 12 21:33 test3

# Теперь владелец не пользователь и изменять файл нельзя
xeDex@ubuntu:~/OS_LABS/LAB_1$ echo "hello" >> task_9/executable 
bash: task_9/executable: Permission denied

# 9.4
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l | grep "task_9"
drwxrwxr-x 2 xeDex xeDex  4096 Mar 12 21:33 task_9

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo chown root:root task_9
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l | grep "task_9"
drwxrwxr-x 2 root  root   4096 Mar 13 12:25 task_9

xeDex@ubuntu:~/OS_LABS/LAB_1$ touch task_9/dir
touch: cannot touch 'task_9/dir': Permission denied

# Задание 10
xeDex@ubuntu:~/OS_LABS/LAB_1$ date
Thu Mar 13 06:38:02 PM MSK 2025

xeDex@ubuntu:~/OS_LABS/LAB_1$ touch gateway_test
xeDex@ubuntu:~/OS_LABS/LAB_1$ nano gateway_test 
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l gateway_test
-rw-rw-r-- 1 xeDex xeDex 57 Mar 13 18:41 gateway_test

xeDex@ubuntu:~/OS_LABS/LAB_1$ gcc -o file_access main.c
xeDex@ubuntu:~/OS_LABS/LAB_1$ ./file_access gateway_test
You can't read this information!

You don't have rights!

xeDex@ubuntu:~/OS_LABS/LAB_1$ chmod 600 gateway_test
xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo chown user1:user1 gateway_test 
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l gateway_test 
-rw------- 1 user1 user1 57 Mar 13 18:41 gateway_test

xeDex@ubuntu:~/OS_LABS/LAB_1$ ./file_access gateway_test
Не удалось открыть файл: Permission denied

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo chown user1:xeDex gateway_test 
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l gateway_test 
-rw------- 1 user1 xeDex 57 Mar 13 18:41 gateway_test

xeDex@ubuntu:~/OS_LABS/LAB_1$ ./file_access gateway_test
Не удалось открыть файл: Permission denied

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo chown xeDex:user1 gateway_test 
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l gateway_test 
-rw------- 1 xeDex user1 57 Mar 13 18:41 gateway_test

xeDex@ubuntu:~/OS_LABS/LAB_1$ ./file_access gateway_test
You can't read this information!

You don't have rights!

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo chown user1:user1 file_access
xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo chmod u+s file_access
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l file_access 
-rwsrwxr-x 1 user1 user1 16272 Mar 13 19:07 file_access
 
xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo chown user1:user1 gateway_test 
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l gateway_test 
-rw------- 1 user1 user1 57 Mar 13 18:41 gateway_test

# Когда владелец шлюза и искомого файла одинаковые и у шлюза есть
# Флаг SUID, тогда можно прочитать чужой файл
xeDex@ubuntu:~/OS_LABS/LAB_1$ ./file_access gateway_test 
You can't read this information!

You don't have rights!

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo chown xeDex:user1 gateway_test
xeDex@ubuntu:~/OS_LABS/LAB_1$ ls -l gateway_test 
-rw------- 1 xeDex user1 57 Mar 13 18:41 gateway_test

xeDex@ubuntu:~/OS_LABS/LAB_1$ ./file_access gateway_test
Не удалось открыть файл: Permission denied

xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo chown xeDex:user1 file_access
xeDex@ubuntu:~/OS_LABS/LAB_1$ ./file_access gateway_test 
You can't read this information!

You don't have rights!

# Задание 11
xeDex@ubuntu:~/OS_LABS/LAB_1$ date
Thu Mar 13 07:35:07 PM MSK 2025

# 11.1

xeDex@ubuntu:~/OS_LABS/LAB_1$ man df
...

xeDex@ubuntu:~/OS_LABS/LAB_1$ man fstab
...

xeDex@ubuntu:~/OS_LABS/LAB_1$ man mount
...

xeDex@ubuntu:~/OS_LABS/LAB_1$ man blkid
...

# df отображает информацию о доступном и используемом 
# пространстве на файловых системах
xeDex@ubuntu:~/OS_LABS/LAB_1$ df
Filesystem     1K-blocks    Used Available Use% Mounted on
tmpfs            1637388    1592   1635796   1% /run
/dev/sda2       30784420 6455372  22739956  23% /
tmpfs            8186928       4   8186924   1% /dev/shm
tmpfs               5120       8      5112   1% /run/lock
tmpfs            1637384    2548   1634836   1% /run/user/1000
/dev/sr0           58814   58814         0 100% /media/xeDex/VBox_GAs_7.1.6

# mount используется для монтирования файловых систем 
# и вывода информации о смонтированных файловых системах
xeDex@ubuntu:~/OS_LABS/LAB_1$ mount
sysfs on /sys type sysfs (rw,nosuid,nodev,noexec,relatime)
proc on /proc type proc (rw,nosuid,nodev,noexec,relatime)
udev on /dev type devtmpfs (rw,nosuid,relatime,size=8149256k,nr_inodes=2037314,mode=755,inode64)
devpts on /dev/pts type devpts (rw,nosuid,noexec,relatime,gid=5,mode=620,ptmxmode=000)
tmpfs on /run type tmpfs (rw,nosuid,nodev,noexec,relatime,size=1637388k,mode=755,inode64)
/dev/sda2 on / type ext4 (rw,relatime)
securityfs on /sys/kernel/security type securityfs (rw,nosuid,nodev,noexec,relatime)
tmpfs on /dev/shm type tmpfs (rw,nosuid,nodev,inode64)
tmpfs on /run/lock type tmpfs (rw,nosuid,nodev,noexec,relatime,size=5120k,inode64)
cgroup2 on /sys/fs/cgroup type cgroup2 (rw,nosuid,nodev,noexec,relatime,nsdelegate,memory_recursiveprot)
pstore on /sys/fs/pstore type pstore (rw,nosuid,nodev,noexec,relatime)
bpf on /sys/fs/bpf type bpf (rw,nosuid,nodev,noexec,relatime,mode=700)
systemd-1 on /proc/sys/fs/binfmt_misc type autofs (rw,relatime,fd=32,pgrp=1,timeout=0,minproto=5,maxproto=5,direct,pipe_ino=5759)
debugfs on /sys/kernel/debug type debugfs (rw,nosuid,nodev,noexec,relatime)
hugetlbfs on /dev/hugepages type hugetlbfs (rw,nosuid,nodev,relatime,pagesize=2M)
tracefs on /sys/kernel/tracing type tracefs (rw,nosuid,nodev,noexec,relatime)
mqueue on /dev/mqueue type mqueue (rw,nosuid,nodev,noexec,relatime)
fusectl on /sys/fs/fuse/connections type fusectl (rw,nosuid,nodev,noexec,relatime)
configfs on /sys/kernel/config type configfs (rw,nosuid,nodev,noexec,relatime)
/var/lib/snapd/snaps/bare_5.snap on /snap/bare/5 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/firmware-updater_127.snap on /snap/firmware-updater/127 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/core22_1564.snap on /snap/core22/1564 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/firefox_4793.snap on /snap/firefox/4793 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/firmware-updater_167.snap on /snap/firmware-updater/167 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/core22_1748.snap on /snap/core22/1748 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/snap-store_1173.snap on /snap/snap-store/1173 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/gtk-common-themes_1535.snap on /snap/gtk-common-themes/1535 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/snapd_23545.snap on /snap/snapd/23545 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/snapd-desktop-integration_178.snap on /snap/snapd-desktop-integration/178 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/snapd-desktop-integration_253.snap on /snap/snapd-desktop-integration/253 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/snapd_23771.snap on /snap/snapd/23771 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/gnome-42-2204_176.snap on /snap/gnome-42-2204/176 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
binfmt_misc on /proc/sys/fs/binfmt_misc type binfmt_misc (rw,nosuid,nodev,noexec,relatime)
tmpfs on /run/snapd/ns type tmpfs (rw,nosuid,nodev,noexec,relatime,size=1637388k,mode=755,inode64)
nsfs on /run/snapd/ns/snapd-desktop-integration.mnt type nsfs (rw)
tmpfs on /run/user/1000 type tmpfs (rw,nosuid,nodev,relatime,size=1637384k,nr_inodes=409346,mode=700,uid=1000,gid=1000,inode64)
portal on /run/user/1000/doc type fuse.portal (rw,nosuid,nodev,relatime,user_id=1000,group_id=1000)
gvfsd-fuse on /run/user/1000/gvfs type fuse.gvfsd-fuse (rw,nosuid,nodev,relatime,user_id=1000,group_id=1000)
/dev/sr0 on /media/xeDex/VBox_GAs_7.1.6 type iso9660 (ro,nosuid,nodev,relatime,nojoliet,check=s,map=n,blocksize=2048,uid=1000,gid=1000,dmode=500,fmode=400,iocharset=utf8,uhelper=udisks2)
nsfs on /run/snapd/ns/firefox.mnt type nsfs (rw)

# /etc/fstab содержит таблицу всех файловых систем, которые должны 
# быть автоматически монтированы при загрузке системы
xeDex@ubuntu:~/OS_LABS/LAB_1$ cat /etc/fstab
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# <file system> <mount point>   <type>  <options>       <dump>  <pass>
# / was on /dev/sda2 during curtin installation
/dev/disk/by-uuid/38657727-0164-4622-bff7-161ab7c3f885 / ext4 defaults 0 1

# используется для вывода информации о блоковых устройствах, 
# включая UUID (уникальные идентификаторы) и тип файловой системы
xeDex@ubuntu:~/OS_LABS/LAB_1$ blkid
/dev/sda2: UUID="38657727-0164-4622-bff7-161ab7c3f885" BLOCK_SIZE="4096" TYPE="ext4" PARTUUID="b8d1cede-7704-4fda-9cd6-6869dcf344a2"
/dev/sr0: BLOCK_SIZE="2048" UUID="2025-01-21-13-18-27-98" LABEL="VBox_GAs_7.1.6" TYPE="iso9660"

xeDex@ubuntu:~/OS_LABS/LAB_1$ man lsblk
...

# lsblk используется для отображения информации о блоковых устройствах
xeDex@ubuntu:~/OS_LABS/LAB_1$ lsblk
NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
loop0    7:0    0  73.9M  1 loop /snap/core22/1748
loop1    7:1    0     4K  1 loop /snap/bare/5
loop2    7:2    0  74.3M  1 loop /snap/core22/1564
loop3    7:3    0 269.8M  1 loop /snap/firefox/4793
loop4    7:4    0  10.7M  1 loop /snap/firmware-updater/127
loop5    7:5    0  11.1M  1 loop /snap/firmware-updater/167
loop6    7:6    0 505.1M  1 loop /snap/gnome-42-2204/176
loop7    7:7    0  91.7M  1 loop /snap/gtk-common-themes/1535
loop8    7:8    0  10.5M  1 loop /snap/snap-store/1173
loop9    7:9    0  44.4M  1 loop /snap/snapd/23545
loop10   7:10   0  44.4M  1 loop /snap/snapd/23771
loop11   7:11   0   500K  1 loop /snap/snapd-desktop-integration/178
loop12   7:12   0   568K  1 loop /snap/snapd-desktop-integration/253
sda      8:0    0    30G  0 disk 
├─sda1   8:1    0     1M  0 part 
└─sda2   8:2    0    30G  0 part /
sr0     11:0    1  57.4M  0 rom  /media/xeDex/VBox_GAs_7.1.6

# Доступны для монтирования:
xeDex@ubuntu:~/OS_LABS/LAB_1$ cat /proc/filesystems
nodev	sysfs
nodev	tmpfs
nodev	bdev
nodev	proc
nodev	cgroup
nodev	cgroup2
nodev	cpuset
nodev	devtmpfs
nodev	configfs
nodev	debugfs
nodev	tracefs
nodev	securityfs
nodev	sockfs
nodev	bpf
nodev	pipefs
nodev	ramfs
nodev	hugetlbfs
nodev	devpts
	ext3
	ext2
	ext4
	squashfs
	vfat
nodev	ecryptfs
	fuseblk
nodev	fuse
nodev	fusectl
nodev	efivarfs
nodev	mqueue
nodev	pstore
nodev	autofs
nodev	binfmt_misc
	iso9660

# 11.2

# Oracle VitrualBox не может опросить USB, поэтому монтирую виртуальную флешку
xeDex@ubuntu:~/OS_LABS/LAB_1$ dd if=/dev/zero of=flashdrive.img bs=1M count=4096
xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo mkfs -t ext4 flashdrive.img
xeDex@ubuntu:~/OS_LABS/LAB_1$ mkdir media
xeDex@ubuntu:~/OS_LABS/LAB_1$ mkdir media/usb_mount_point
xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo mount -t auto -o loop flashdrive.img media/usb_mount_point

xeDex@ubuntu:~/OS_LABS/LAB_1$ lsblk
NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
loop0    7:0    0     4K  1 loop /snap/bare/5
loop1    7:1    0  74.3M  1 loop /snap/core22/1564
loop2    7:2    0  73.9M  1 loop /snap/core22/1748
loop3    7:3    0 269.8M  1 loop /snap/firefox/4793
loop4    7:4    0  10.7M  1 loop /snap/firmware-updater/127
loop5    7:5    0  11.1M  1 loop /snap/firmware-updater/167
loop6    7:6    0 505.1M  1 loop /snap/gnome-42-2204/176
loop7    7:7    0  91.7M  1 loop /snap/gtk-common-themes/1535
loop8    7:8    0  10.5M  1 loop /snap/snap-store/1173
loop9    7:9    0  44.4M  1 loop /snap/snapd/23545
loop10   7:10   0  44.4M  1 loop /snap/snapd/23771
loop11   7:11   0   500K  1 loop /snap/snapd-desktop-integration/178
loop12   7:12   0   568K  1 loop /snap/snapd-desktop-integration/253
loop13   7:13   0     4G  0 loop /home/xeDex/OS_LABS/LAB_1/media/usb_mount_point # место, куда смонтировал флешку
sda      8:0    0    30G  0 disk 
├─sda1   8:1    0     1M  0 part 
└─sda2   8:2    0    30G  0 part /
sr0     11:0    1  57.4M  0 rom  /media/xeDex/VBox_GAs_7.1.6

xeDex@ubuntu:~/OS_LABS/LAB_1$ mount
sysfs on /sys type sysfs (rw,nosuid,nodev,noexec,relatime)
proc on /proc type proc (rw,nosuid,nodev,noexec,relatime)
udev on /dev type devtmpfs (rw,nosuid,relatime,size=8149256k,nr_inodes=2037314,mode=755,inode64)
devpts on /dev/pts type devpts (rw,nosuid,noexec,relatime,gid=5,mode=620,ptmxmode=000)
tmpfs on /run type tmpfs (rw,nosuid,nodev,noexec,relatime,size=1637388k,mode=755,inode64)
/dev/sda2 on / type ext4 (rw,relatime)
securityfs on /sys/kernel/security type securityfs (rw,nosuid,nodev,noexec,relatime)
tmpfs on /dev/shm type tmpfs (rw,nosuid,nodev,inode64)
tmpfs on /run/lock type tmpfs (rw,nosuid,nodev,noexec,relatime,size=5120k,inode64)
cgroup2 on /sys/fs/cgroup type cgroup2 (rw,nosuid,nodev,noexec,relatime,nsdelegate,memory_recursiveprot)
pstore on /sys/fs/pstore type pstore (rw,nosuid,nodev,noexec,relatime)
bpf on /sys/fs/bpf type bpf (rw,nosuid,nodev,noexec,relatime,mode=700)
systemd-1 on /proc/sys/fs/binfmt_misc type autofs (rw,relatime,fd=32,pgrp=1,timeout=0,minproto=5,maxproto=5,direct,pipe_ino=7753)
debugfs on /sys/kernel/debug type debugfs (rw,nosuid,nodev,noexec,relatime)
mqueue on /dev/mqueue type mqueue (rw,nosuid,nodev,noexec,relatime)
tracefs on /sys/kernel/tracing type tracefs (rw,nosuid,nodev,noexec,relatime)
hugetlbfs on /dev/hugepages type hugetlbfs (rw,nosuid,nodev,relatime,pagesize=2M)
fusectl on /sys/fs/fuse/connections type fusectl (rw,nosuid,nodev,noexec,relatime)
configfs on /sys/kernel/config type configfs (rw,nosuid,nodev,noexec,relatime)
/var/lib/snapd/snaps/bare_5.snap on /snap/bare/5 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/core22_1564.snap on /snap/core22/1564 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/firmware-updater_167.snap on /snap/firmware-updater/167 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/core22_1748.snap on /snap/core22/1748 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/firefox_4793.snap on /snap/firefox/4793 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/firmware-updater_127.snap on /snap/firmware-updater/127 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/snap-store_1173.snap on /snap/snap-store/1173 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/gtk-common-themes_1535.snap on /snap/gtk-common-themes/1535 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/gnome-42-2204_176.snap on /snap/gnome-42-2204/176 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/snapd_23545.snap on /snap/snapd/23545 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/snapd-desktop-integration_178.snap on /snap/snapd-desktop-integration/178 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/snapd_23771.snap on /snap/snapd/23771 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/snapd-desktop-integration_253.snap on /snap/snapd-desktop-integration/253 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
binfmt_misc on /proc/sys/fs/binfmt_misc type binfmt_misc (rw,nosuid,nodev,noexec,relatime)
tmpfs on /run/snapd/ns type tmpfs (rw,nosuid,nodev,noexec,relatime,size=1637388k,mode=755,inode64)
nsfs on /run/snapd/ns/snapd-desktop-integration.mnt type nsfs (rw)
tmpfs on /run/user/1000 type tmpfs (rw,nosuid,nodev,relatime,size=1637384k,nr_inodes=409346,mode=700,uid=1000,gid=1000,inode64)
portal on /run/user/1000/doc type fuse.portal (rw,nosuid,nodev,relatime,user_id=1000,group_id=1000)
gvfsd-fuse on /run/user/1000/gvfs type fuse.gvfsd-fuse (rw,nosuid,nodev,relatime,user_id=1000,group_id=1000)
/dev/sr0 on /media/xeDex/VBox_GAs_7.1.6 type iso9660 (ro,nosuid,nodev,relatime,nojoliet,check=s,map=n,blocksize=2048,uid=1000,gid=1000,dmode=500,fmode=400,iocharset=utf8,uhelper=udisks2)
nsfs on /run/snapd/ns/firefox.mnt type nsfs (rw)
/home/xeDex/OS_LABS/LAB_1/flashdrive.img on /home/xeDex/OS_LABS/LAB_1/media/usb_mount_point type ext4 (rw,relatime)

# Отмонтирую виртуальную флешку
xeDex@ubuntu:~/OS_LABS/LAB_1$ sudo umount media/usb_mount_point/

xeDex@ubuntu:~/OS_LABS/LAB_1$ lsblk
NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
loop0    7:0    0     4K  1 loop /snap/bare/5
loop1    7:1    0  74.3M  1 loop /snap/core22/1564
loop2    7:2    0  73.9M  1 loop /snap/core22/1748
loop3    7:3    0 269.8M  1 loop /snap/firefox/4793
loop4    7:4    0  10.7M  1 loop /snap/firmware-updater/127
loop5    7:5    0  11.1M  1 loop /snap/firmware-updater/167
loop6    7:6    0 505.1M  1 loop /snap/gnome-42-2204/176
loop7    7:7    0  91.7M  1 loop /snap/gtk-common-themes/1535
loop8    7:8    0  10.5M  1 loop /snap/snap-store/1173
loop9    7:9    0  44.4M  1 loop /snap/snapd/23545
loop10   7:10   0  44.4M  1 loop /snap/snapd/23771
loop11   7:11   0   500K  1 loop /snap/snapd-desktop-integration/178
loop12   7:12   0   568K  1 loop /snap/snapd-desktop-integration/253
sda      8:0    0    30G  0 disk 
├─sda1   8:1    0     1M  0 part 
└─sda2   8:2    0    30G  0 part /
sr0     11:0    1  57.4M  0 rom  /media/xeDex/VBox_GAs_7.1.6

# 11.3
# Максимальная длина путь 4096 байт для полного пути, включая имя файла
# название файла 255
xeDex@ubuntu:~/OS_LABS/LAB_1$ cat /usr/include/linux/limits.h 
/* SPDX-License-Identifier: GPL-2.0 WITH Linux-syscall-note */
#ifndef _LINUX_LIMITS_H
#define _LINUX_LIMITS_H

#define NR_OPEN	        1024

#define NGROUPS_MAX    65536	/* supplemental group IDs are available */
#define ARG_MAX       131072	/* # bytes of args + environ for exec() */
#define LINK_MAX         127	/* # links a file may have */
#define MAX_CANON        255	/* size of the canonical input queue */
#define MAX_INPUT        255	/* size of the type-ahead buffer */
#define NAME_MAX         255	/* # chars in a file name */
#define PATH_MAX        4096	/* # chars in a path name including nul */
#define PIPE_BUF        4096	/* # bytes in atomic write to a pipe */
#define XATTR_NAME_MAX   255	/* # chars in an extended attribute name */
#define XATTR_SIZE_MAX 65536	/* size of an extended attribute value (64k) */
#define XATTR_LIST_MAX 65536	/* size of extended attribute namelist (64k) */

#define RTSIG_MAX	  32

#endif

# Задание 12
xeDex@ubuntu:~/OS_LABS/LAB_1$ date
Thu Mar 13 09:49:11 PM MSK 2025

xeDex@ubuntu:~/OS_LABS/LAB_1$ man file
...

# 12.1

xeDex@ubuntu:~/OS_LABS/LAB_1$ file --help
Usage: file [OPTION...] [FILE...]
Determine type of FILEs.

xeDex@ubuntu:~/OS_LABS/LAB_1$ file -v
file-5.45
magic file from /etc/magic:/usr/share/misc/magic

xeDex@ubuntu:~/OS_LABS/LAB_1$ cat /usr/share/file/magic.mgc | head -n5
�a?	 =//Brain Vision Data Exchange Marker File, VersionBiosig/Brainvision Marker filebiosig/brainvision =.zFileId=TMSi PortiLab sample log file
Version=Biosig/TMSiLOGbiosig/tmsilog =+}Synergy89(&88)&888&8888=?~CRawDataElement=UCRawDataBufferBiosig/SYNERGYbiosig/synergy =+.Brain Vision V-Amp Data Header File VersionBiosig/Brainvision V-Amp file =&-Brain Vision Data Exchange Header FileBiosig/Brainvision data file =&MetaView Service Assurance Export FileMetaView SAS export'Version x/, version %c =%	-----BEGIN ENCRYPTED PRIVATE KEY-----OpenSSH private key (with password) =$DFS File
http://www.difstream.com
SmartVersion binary patch file =#-----BEGIN OPENSSH PRIVATE KEY-----OpenSSH private key ="-----BEGIN PGP SIGNED MESSAGE-----=" 

# 7f 45 4c 46 - это и есть магические числа (для ELF), благодаря которым file ищет файлы
xeDex@ubuntu:~/OS_LABS/LAB_1$ hexdump -C file_access | head -n5
00000000  7f 45 4c 46 02 01 01 00  00 00 00 00 00 00 00 00  |.ELF............|
00000010  03 00 3e 00 01 00 00 00  20 11 00 00 00 00 00 00  |..>..... .......|
00000020  40 00 00 00 00 00 00 00  d0 37 00 00 00 00 00 00  |@........7......|
00000030  00 00 00 00 40 00 38 00  0d 00 40 00 1f 00 1e 00  |....@.8...@.....|
00000040  06 00 00 00 04 00 00 00  40 00 00 00 00 00 00 00  |........@.......|

xeDex@ubuntu:~/OS_LABS/LAB_1$ file file_access 
file_access: ELF 64-bit LSB pie executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=0cfd267e110a54675ac7999dde908ad2abc44bca, for GNU/Linux 3.2.0, not stripped

# 12.2
xeDex@ubuntu:~/OS_LABS/LAB_1$ file / symlink_1
/:         directory
symlink_1: symbolic link to source_file/something

xeDex@ubuntu:~/OS_LABS/LAB_1$ file -i / symlink_1
/:         inode/directory; charset=binary
symlink_1: inode/symlink; charset=binary

# 12.3
xeDex@ubuntu:~/OS_LABS/LAB_1$ mkdir magic
xeDex@ubuntu:~/OS_LABS/LAB_1$ echo -n "XEDEX'S_MAGIC" > magic/xeDex
xeDex@ubuntu:~/OS_LABS/LAB_1$ echo "░░░░░░░░░░░▄▄▄▄▄▄▄▄▄▄██▄▄▄▄▄▄▄▄▄░░░░▄░
▄███████████████████████▀▀▀▀▀▀▀██████▀
██████▀▀▀░▄██▀░░▀███░░░░░░░░░░░░░░░░░░
▀▀▀▀░░░░░░██░░░░░▀██▄░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░░░░░░░▀███▄░░░░░░░░░░░░░░░
░░░░░░░░░░░░░░░░░░░░▀▀░░░░░░░░░░░░░░░░" >> magic/xeDex

xeDex@ubuntu:~/OS_LABS/LAB_1$ echo "0   string   XEDEX'S_MAGIC    CustomFile_:)
" > magic/magic_number

xeDex@ubuntu:~/OS_LABS/LAB_1$ file -m magic/magic_number magic/xeDex
magic/xeDex: CustomFile_:)





